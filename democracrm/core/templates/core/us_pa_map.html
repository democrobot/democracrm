{% extends "core/test_base.html" %}

{% block stylesheet %}
<link href="styles.css" rel="stylesheet">
{% endblock %}

{% block content %}
<h2>Pennsylvania (<a href="/us/pa.geojson">Data</a>)</h2>

<div id='map' style='width: 100%; height: 500px;'></div>
<script>
const map = new maplibregl.Map({
  container: 'map',
  style: 'https://api.maptiler.com/maps/openstreetmap/style.json?key=yoy5FRzBDMPSjmTqLsgm', // stylesheet location
  center: [-74.5, 40], // starting position [lng, lat]
  zoom: 3 // starting zoom
});

map.on('load', () => {
    map.addSource('maine', {
        type: 'geojson',
        data: 'http://172.16.0.59:8000/us/pa.json'
    });
    map.addLayer({
        id: 'maine',
        type: 'fill',
        source: 'maine',
        layout: {},
        paint: {
            'fill-color': '#088',
            'fill-opacity': 0.8
        }
    });
});

//map.addControl(new maplibregl.NavigationControl());
//map.setRenderWorldCopies(status === 'true');
//map.panTo(map.getCenter());
</script>

{% endblock %}