{% extends "core/test_base.html" %}

{% block stylesheet %}
<link href="styles.css" rel="stylesheet">
{% endblock %}

{% block content %}
<h2>Pennsylvania</h2>
...
<div id='map' style='width: 100%; height: 500px;'></div>
<script>
var map = new maplibregl.Map({
  container: 'map',
  style: 'https://api.maptiler.com/maps/openstreetmap/style.json?key=yoy5FRzBDMPSjmTqLsgm', // stylesheet location
  center: [-74.5, 40], // starting position [lng, lat]
  zoom: 3 // starting zoom
});
map.on('load', () => {
    map.addSource('pa_state', {
        type: 'geojson',
        data: '/us/pa.geojson',
    });
    map.addLayer({
            'id': 'pa_state',
            'type': 'fill',
            'source': 'pa_state',
            'layout': {},
            'paint': {
                'fill-color': '#088',
                'fill-opacity': 0.8
            }
        });
});
map.setCenter({{ centroid }});
map.setZoom(9);
</script>

<h3>State Senate ({{ pa_senate.count }} Districts)</h3>
<ul>
{% for district in pa_senate %}
<li>{{ district.namelsad }}</li>
{% endfor %}
</ul>

<h3>House of Representatives ({{ pa_house.count }} Districts)</h3>
<ul>
{% for district in pa_house %}
<li>{{ district.namelsad }}</li>
{% endfor %}
</ul>
{% endblock %}